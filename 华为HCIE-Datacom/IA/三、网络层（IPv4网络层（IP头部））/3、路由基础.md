```
路由是数据网络通信中最基本的要素
```
 
```
什么是路由？  
  路径由来
```
 
```
路由信息是指导报文转发的路径信息
```
 
```
什么是路由信息？  
  路由的具体内容
```
 
```
路由和路由信息的关联？  
  路由信息是路由的具体描述
```
 
```
路由过程就是报文转发的过程
```

```
网络设备存在路由表  
路由表中包含路由信息
```
 
```
存在路由表的设备就是路由设备
```

```
\<Huawei\>display ip routing-table    查看设备的路由表项信息  
Route Flags: R - relay, D - download to fib  
------------------------------------------------------------------------------  
Routing Tables: Public    路由表的名称  
         Destinations : 4   目标数量     Routes : 4  路由数量        
```
 
```
Destination/Mask    Proto   Pre  Cost      Flags NextHop         Interface
```
 
```
      127.0.0.0/8   Direct  0    0           D   127.0.0.1       InLoopBack0  
      127.0.0.1/32  Direct  0    0           D   127.0.0.1       InLoopBack0  
127.255.255.255/32  Direct  0    0           D   127.0.0.1       InLoopBack0  
255.255.255.255/32  Direct  0    0           D   127.0.0.1       InLoopBack0
```
   

```
Destination/Mask  网络地址+掩码 = 网段  （网段不同要求网络地址或掩码不相同）
```
 
```
Protocol     协议，表明路由生成的方式  
             1.direct，直连路由  
             2.static，静态路由  
             3.dynamic，动态路由  
                  1.OSPF  
                  2.ISIS  
                  3.BGP  
             4.UNR，用户路由
```
 
```
Preference   优先级，表明路由的优选数值（值越小越优先）  
             1.直连路由的优先级为0  
             2.静态路由的优先级为60  
             3.OSPF（10、150）、ISIS（15）、BGP（255）
```
 
```
Cost         开销，表明使用路由的代价（值越小越优先）  
             1.直连路由和静态路由开销都为0  
             2.动态路由开销值根据各自协议的计算方式自动计算
```
 
```
Flags        标志，表明路由的功能
```
 
```
NextHop      下一跳，表明路由访问的下一台设备地址
```
 
```
Interface    接口，表明路由访问的出接口
```
    
```
Destination/Mask  +  NextHop  +  Interface   精简的路由条目
```

```
如果网络地址+掩码（32位） 只存在一个地址，该地址表示主机路由
```

```
\<Huawei\>dis int brief 查看接口的状态信息
```

```
[Huawei-GigabitEthernet0/0/0]description 
```

```
直连路由：设备自身存在的路由，设备自动生成  
 路由设备默认存在4条直连路由  
 前三条为环回网段的路由  
 最后一条为全网广播的路由
```
 
```
 直连路由如何生成？  
   设备自动生成（根据自身配置的地址信息生成的）
```
 
```
 接口配置地址 掩码长度小于等于30 设备会生成3条路由条目  
   1.第一条直连路由是接口所在的网段路由  
   2.第二条直连路由是接口地址的主机路由  
   3.第三条直连路由是接口网段的广播主机路由  
 接口配置地址 掩码长度等于31 设备会生成2条路由条目  
   1.第一条直连路由是接口所在的网段路由  
   2.第二条直连路由是接口地址的主机路由  
 接口配置地址 掩码长度等于32 设备会生成1条路由条目  
   1.第一条直连路由是接口地址的主机路由
```
 
```
 要求接口是正常的UP状态，如果接口失效，则路由也随之失效
```

```
[Huawei]interface LoopBack \<0-1023\>
```

```
路由设备收到报文后，根据DIP进行路由查询  
存在对应的路由信息，则转发数据报文  
不存在对应的路由信息，则丢弃数据报文
```