|   |   |   |
|---|---|---|
||**IPv4**|**IPv6**|
|地址空间|2^32|2^128|
|表示方式|点分十进制|冒号隔开的十六进制|
|地址类型|单播、组播、广播|单播、组播、任播|
|其它|A、B、C等主类地址|IPv6中无此概念|
||组播地址（224.0.0.0/4）|IPv6组播地址（FF00::/8）|
||广播地址|IPv6中无此概念|
||未指定的地址0.0.0.0/32|未指定的地址::/128|
||环回地址127.0.0.0/8|环回地址是::1/128|
||公网IP地址|全球单播地址|
||私网IP地址（10.0.0.0/8，172.16.0.0/12以及192.168.0.0/16）|唯一本地地址（FD00::/8）|
||APIPA地址（169.254.0.0/16） **Automatic Private IP Addressing** *****自动专用 IP 寻址|链路本地地址（FE80::/10）|

![Exported image](Exported%20image%2020251206150027-0.png)

**IPv6基本报头也称之为固定报头。**固定报头包含8个字段，总长度为40Byte。￼这8个字段分别为：版本（Version）、流量类型（Traffic Class）、流标签（Flow Label）、净荷长度（Payload Length）、下一个报头（Next Header）、跳数限制（Hop Limit）、源IPv6地址、目的IPv6地址。  
1.版本（Version）  
该字段规定了IP协议的版本，其值为6。长度为4bit。  
2.流类别（Traffic Class）  
该字段功能和IPv4中的服务类型功能类似，表示IPv6数据报文的类或优先级。长度为8bit。  
3.流标签（Flow Label）  
与IPv4相比，该字段是新增的。它用来标识这个数据报属于源节点和目标节点之间的一个特定数据报序列，它需要由中间IPv6路由器进行特殊处理。该字段长度为20bit。一般来说一个流可以通过源/目的IPv6地址和流标签来确定。  
4.有效载荷长度（Payload Length）  
该字段表示IPv6数据报有效载荷的长度。有效载荷是指紧跟IPv6报头的数据报的其它部分（即扩展报头和上层协议数据单元）。该字段长度为16bit，能表示最大长度为65535Byte的有效载荷。如果有效载荷的长度超过这个值，该字段会置0，而有效载荷的长度用逐跳选项扩展报头中的超大有效载荷选项来表示。  
5.下一个报头（Next Header）

- 该字段定义紧跟在IPv6报头后面的第一个扩展报头（如果存在）的类型，或者上层协议数据单元中的协议类型。该字段长度为8bit。

6.跳数限制（Hop Limit）

- 该字段类似于IPv4中的TTL（Time to Live）字段。它定义了IP数据报所能经过的最大跳数。每经过一个路由器，该数值减去1，当该字段的值为0时，数据报将被丢弃。该字段长度为8bit。

7.源地址（Source Address）

- 表示发送方的地址，长度为128bit。

8.目的地址（Destination Address）

- 表示接收方的地址，长度为128bit。

![Exported image](Exported%20image%2020251206150029-1.png) ![Exported image](Exported%20image%2020251206150030-2.png)

IPv6相比于IPv4的优点。  
“无限”地址空间，层次化的地址结构，即插即用，简化的报文头部，安全特性，移动性，增强的QoS特性。  
IPv6与IPv4的不同之处：

- 采用了基本报头+扩展报头的报文形式。
- 取消了IP的校验：第二层和第四层的校验已经足够健壮了，因此IPv6直接取消了IP的三层校验，节省路由器处理资源。
- 取消中间节点的分片功能：中间路由器不再处理分片，只在产生数据的源节点处理，省却中间路由器为处理分片而耗费的大量CPU资源。
- 定义定长的IPv6报头：有利于硬件的快速处理，提高路由器转发效率。
- 安全选项的支持：IPv6提供了对IPSec的完美支持，如此上层协议可以省去许多安全选项。
- 增加流标签：提高QoS效率。

![Exported image](Exported%20image%2020251206150035-3.png)